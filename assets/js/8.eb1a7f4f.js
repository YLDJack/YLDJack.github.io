(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{490:function(t,s,a){t.exports=a.p+"assets/img/vp5.c3d3a3b3.png"},491:function(t,s,a){t.exports=a.p+"assets/img/vp4.9fe9b97c.png"},492:function(t,s,a){t.exports=a.p+"assets/img/vp6.fd207502.png"},493:function(t,s,a){t.exports=a.p+"assets/img/vp8.1cd512c0.png"},494:function(t,s,a){t.exports=a.p+"assets/img/vp7.4d63e555.png"},495:function(t,s,a){t.exports=a.p+"assets/img/vp1.6606dcca.png"},496:function(t,s,a){t.exports=a.p+"assets/img/vp2.bddcf170.png"},497:function(t,s,a){t.exports=a.p+"assets/img/vp3.a493df54.png"},518:function(t,s,a){"use strict";a.r(s);var e=a(4),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("img",{attrs:{src:"/images/vuepress.jpg",width:"100%",height:"100%"}})]),t._v(" "),e("h1",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),e("p",[t._v("最近在用Vuepress的"),e("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-theme-reco"),e("OutboundLink")],1),t._v("搭建我的"),e("a",{attrs:{href:"https://jackyld.gitee.io/blog/"}},[t._v("个人博客")]),t._v("个人博客，并部署到GitHub或者Gitee的GitPages的过程中，遇到到了各种各样的坑。为了解决这些坑，我通过加群交流，网上搜寻花费了不少 精力来解决，为了避免大家和我踩同样的坑，我通过此篇博文，特地将遇到的问题和解决方案记录下来，与大家分享。")]),t._v(" "),e("p",[t._v("总结一下，遇到的问题分为两类：1、路径问题 2、部署问题")]),t._v(" "),e("p",[t._v("如果感兴趣的同学，欢迎来我的博客留言和交流。点击"),e("a",{attrs:{href:"https://jackyld.gitee.io/blog/"}},[t._v("我的个人博客")]),t._v("即可访问。")]),t._v(" "),e("h1",{attrs:{id:"部署问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署问题"}},[t._v("#")]),t._v(" 部署问题")]),t._v(" "),e("h2",{attrs:{id:"_1-修改base"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-修改base"}},[t._v("#")]),t._v(" 1.修改base")]),t._v(" "),e("p",[t._v("如果我们的博客部署的是.github.io（即github中与自己用户名同名的仓库），github会自动将其部署为GitPages。若我们想部署到github或者gitee的其他仓库，**则我们必须指定base，base的属性名必须和仓库名同名，否则博客首页会出现404问题。**如下两图所示，我Gitee的仓库名为Blog，则base必须配置为:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v(" base"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/blog/'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("p",[e("img",{attrs:{src:a(490),alt:"img"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(491),alt:"img"}})]),t._v(" "),e("h2",{attrs:{id:"_2-deploy-sh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-deploy-sh"}},[t._v("#")]),t._v(" 2.deploy.sh")]),t._v(" "),e("p",[t._v("deploy.sh其实是一个Linux/Unix系统的shell脚本文件，其文件内容如下")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env sh")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 确保脚本抛出遇到的错误")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" -e\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 生成静态文件")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入生成的文件夹")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" dist\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" init\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -A\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deploy'")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.name "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.email "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx@xx.com"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 填写你需要发布的仓库地址")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push -f https://gitee.com/xxx/xxxx.git master\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" -\n\n")])])]),e("p",[t._v("将这些命令写成脚本文件，是为了节省每次修改和添加博客内容，并重新部署到GitPages上的时间。但是在Windows自带的终端运行，会出现如下报错，因为Windows自带的终端无法运行Linux的shell文件。")]),t._v(" "),e("div",{staticClass:"language-c extra-class"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[t._v("bash不是内部或外部命令\n")])])]),e("p",[e("img",{attrs:{src:a(492),alt:"img"}})]),t._v(" "),e("h3",{attrs:{id:"解决方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[t._v("#")]),t._v(" 解决方法")]),t._v(" "),e("p",[t._v("这时，我们想到，其实Git 是 [Linus Torvalds](https://baike.baidu.com/item/Linus Torvalds/9336769) 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。自然git bash终端可以使用shell脚本文件。所以，我们可以通过git bash 到deploy.sh目录下，运行改shell文件，方便我们博客的部署。如下图：")]),t._v(" "),e("p",[e("img",{attrs:{src:a(493),alt:"img"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(494),alt:"img"}})]),t._v(" "),e("h1",{attrs:{id:"路径问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路径问题"}},[t._v("#")]),t._v(" 路径问题")]),t._v(" "),e("h2",{attrs:{id:"_1、博文和摘要中图片的路径问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、博文和摘要中图片的路径问题"}},[t._v("#")]),t._v(" 1、博文和摘要中图片的路径问题")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://vuepress-theme-reco.recoluan.com/assets/img/12.75aaa91e.png",alt:"img"}})]),t._v(" "),e("p",[t._v("首先，要想添加摘要，需要在markdown整个正文的上方，YAML Front Matter注释下方，添加:::tip:::，并在其中填写想要添加的摘要内容，可以是图片或者文字内容。图片可以通过下方的方式，统一大小并指定路径。")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./images/vuepress.jpg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("width")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("100%"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("100%"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),e("p",[e("strong",[t._v("摘要将会显示在首页和文章的顶部，正是由于这两处都会显示，而首页和文章两个编译后生成的HTML文件路径不用，也就导致了我们需要对两处的图片采取不同的路径。但是摘要的路径又只能在对应文章的markdown文件的':::tip:::'中指定一次，那我们该如何是好呢？")])]),t._v(" "),e("p",[t._v("若指定相对路径则部署到gitpages后，首页的摘要图片就不会显示。（其实主要是指定base之后造成的，若不指定base应该就不会出现这样的问题。）")]),t._v(" "),e("p",[e("img",{attrs:{src:a(495),alt:"img"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(496),alt:"img"}})]),t._v(" "),e("center",[t._v("如上两图所示，文章和摘要中的图片地址是不同的。")]),t._v(" "),e("h3",{attrs:{id:"解决方法-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方法-2"}},[t._v("#")]),t._v(" 解决方法")]),t._v(" "),e("p",[t._v("我发现了一种简单粗暴的解决方法，就是除了在.vuepress的public文件的images中放上摘要图片，同时可以在和博文markdown文件相同目录下，再建立一个images文件夹并且放上摘要图片。路径如下图：")]),t._v(" "),e("p",[e("img",{attrs:{src:a(497),alt:"img"}})])],1)}),[],!1,null,null,null);s.default=n.exports}}]);